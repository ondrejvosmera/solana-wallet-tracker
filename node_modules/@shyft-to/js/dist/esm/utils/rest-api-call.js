import axios from 'axios';
export async function restApiCall(apiKey, config, version = 'v1') {
    var _a;
    try {
        const baseURL = `https://api.shyft.to/sol/${version}/`;
        const headers = { 'Access-Control-Allow-Origin': '*', 'x-api-key': apiKey };
        const { data } = await axios.request({ ...config, baseURL, headers });
        return data;
    }
    catch (error) {
        const err = error;
        const apiError = (_a = err.response) === null || _a === void 0 ? void 0 : _a.data;
        if (typeof apiError.error === 'object') {
            if ('message' in apiError.error) {
                throw new Error(apiError.error['message']);
            }
            throw new Error(JSON.stringify(apiError.error));
        }
        if (typeof apiError.error === 'string') {
            throw new Error(apiError.error);
        }
        if (typeof apiError['message'] === 'string') {
            throw new Error(apiError['message']);
        }
        throw apiError.error;
    }
}
//# sourceMappingURL=rest-api-call.js.map