{"version":3,"sources":["../../src/server/pipe-readable.ts"],"names":["isAbortError","pipeToNodeResponse","e","name","ResponseAbortedName","createWriterFromResponse","res","waitUntilForEnd","started","drained","DetachedPromise","onDrain","resolve","on","once","off","finished","WritableStream","write","chunk","flushHeaders","ok","flush","promise","err","end","Error","cause","abort","writableFinished","destroy","close","readable","errored","destroyed","controller","createAbortController","writer","pipeTo","signal"],"mappings":";;;;;;;;;;;;;;;IAQgBA,YAAY;eAAZA;;IAqFMC,kBAAkB;eAAlBA;;;6BAxFf;iCACyB;AAEzB,SAASD,aAAaE,CAAM;IACjC,OAAOA,CAAAA,qBAAAA,EAAGC,IAAI,MAAK,gBAAgBD,CAAAA,qBAAAA,EAAGC,IAAI,MAAKC,gCAAmB;AACpE;AAEA,SAASC,yBACPC,GAAmB,EACnBC,eAAkC;IAElC,IAAIC,UAAU;IAEd,wEAAwE;IACxE,wDAAwD;IACxD,IAAIC,UAAU,IAAIC,gCAAe;IACjC,SAASC;QACPF,QAAQG,OAAO;IACjB;IACAN,IAAIO,EAAE,CAAC,SAASF;IAEhB,0EAA0E;IAC1E,eAAe;IACfL,IAAIQ,IAAI,CAAC,SAAS;QAChBR,IAAIS,GAAG,CAAC,SAASJ;QACjBF,QAAQG,OAAO;IACjB;IAEA,yEAAyE;IACzE,kDAAkD;IAClD,MAAMI,WAAW,IAAIN,gCAAe;IACpCJ,IAAIQ,IAAI,CAAC,UAAU;QACjBE,SAASJ,OAAO;IAClB;IAEA,4DAA4D;IAC5D,OAAO,IAAIK,eAA2B;QACpCC,OAAO,OAAOC;YACZ,0EAA0E;YAC1E,wEAAwE;YACxE,0BAA0B;YAC1B,IAAI,CAACX,SAAS;gBACZA,UAAU;gBACVF,IAAIc,YAAY;YAClB;YAEA,IAAI;gBACF,MAAMC,KAAKf,IAAIY,KAAK,CAACC;gBAErB,sEAAsE;gBACtE,yDAAyD;gBACzD,IAAI,WAAWb,OAAO,OAAOA,IAAIgB,KAAK,KAAK,YAAY;oBACrDhB,IAAIgB,KAAK;gBACX;gBAEA,qEAAqE;gBACrE,8CAA8C;gBAC9C,IAAI,CAACD,IAAI;oBACP,MAAMZ,QAAQc,OAAO;oBAErB,0EAA0E;oBAC1Ed,UAAU,IAAIC,gCAAe;gBAC/B;YACF,EAAE,OAAOc,KAAK;gBACZlB,IAAImB,GAAG;gBACP,MAAM,IAAIC,MAAM,qCAAqC;oBAAEC,OAAOH;gBAAI;YACpE;QACF;QACAI,OAAO,CAACJ;YACN,IAAIlB,IAAIuB,gBAAgB,EAAE;YAE1BvB,IAAIwB,OAAO,CAACN;QACd;QACAO,OAAO;YACL,mEAAmE;YACnE,uBAAuB;YACvB,IAAIxB,iBAAiB;gBACnB,MAAMA;YACR;YAEA,IAAID,IAAIuB,gBAAgB,EAAE;YAE1BvB,IAAImB,GAAG;YACP,OAAOT,SAASO,OAAO;QACzB;IACF;AACF;AAEO,eAAetB,mBACpB+B,QAAoC,EACpC1B,GAAmB,EACnBC,eAAkC;IAElC,IAAI;QACF,6DAA6D;QAC7D,MAAM,EAAE0B,OAAO,EAAEC,SAAS,EAAE,GAAG5B;QAC/B,IAAI2B,WAAWC,WAAW;QAE1B,wEAAwE;QACxE,sBAAsB;QACtB,MAAMC,aAAaC,IAAAA,kCAAqB,EAAC9B;QAEzC,MAAM+B,SAAShC,yBAAyBC,KAAKC;QAE7C,MAAMyB,SAASM,MAAM,CAACD,QAAQ;YAAEE,QAAQJ,WAAWI,MAAM;QAAC;IAC5D,EAAE,OAAOf,KAAU;QACjB,wDAAwD;QACxD,IAAIxB,aAAawB,MAAM;QAEvB,MAAM,IAAIE,MAAM,2BAA2B;YAAEC,OAAOH;QAAI;IAC1D;AACF"}