{"version":3,"sources":["../../src/export/index.ts"],"names":["bold","yellow","findUp","existsSync","promises","fs","Worker","dirname","join","resolve","sep","formatAmpMessages","Log","createSpinner","RSC_SUFFIX","SSG_FALLBACK_EXPORT_ERROR","recursiveCopy","BUILD_ID_FILE","CLIENT_PUBLIC_FILES_PATH","CLIENT_STATIC_FILES_PATH","EXPORT_DETAIL","EXPORT_MARKER","NEXT_FONT_MANIFEST","MIDDLEWARE_MANIFEST","PAGES_MANIFEST","PHASE_EXPORT","PRERENDER_MANIFEST","SERVER_DIRECTORY","SERVER_REFERENCE_MANIFEST","APP_PATH_ROUTES_MANIFEST","loadConfig","eventCliSession","hasNextSupport","Telemetry","normalizePagePath","denormalizePagePath","loadEnvConfig","isAPIRoute","getPagePath","isAppRouteRoute","isAppPageRoute","isError","needsExperimentalReact","formatManifest","divideSegments","number","segments","result","dividedNumber","Math","floor","push","createProgress","total","label","Error","currentSegmentTotal","shift","currentSegmentCount","lastProgressOutput","Date","now","curProgress","progressSpinner","spinner","frames","interval","isFinished","newText","prefixes","event","info","process","stdout","isTTY","text","console","log","stop","ExportError","code","setupWorkers","options","nextConfig","exportPageWorker","pages","app","exportAppPageWorker","end","endWorker","Promise","threads","experimental","cpus","silent","buildExport","timeout","staticPageGenerationTimeout","infoPrinted","worker","require","onRestart","_method","path","attempts","warn","maxRetries","numWorkers","enableWorkerThreads","workerThreads","exposedMethods","default","exportAppImpl","dir","span","traceChild","traceFn","enabledDirectories","traceAsyncFn","distDir","telemetry","record","webpackVersion","cliCommand","isSrcDir","hasNowJson","cwd","isCustomServer","turboFlag","pagesDir","appDir","subFolders","trailingSlash","buildIdFile","customRoutes","filter","config","length","buildId","readFile","pagesManifest","prerenderManifest","appRoutePathManifest","err","undefined","excludedPrerenderRoutes","Set","Object","keys","defaultPathMap","hasApiRoutes","page","dynamicRoutes","add","mapAppRouteToPage","Map","pageName","routePath","entries","set","routes","_isAppDir","outDir","outdir","rm","recursive","force","mkdir","writeFile","version","outDirectory","success","exportPathMap","defaultMap","i18n","images","loader","unoptimized","isNextImageImported","then","JSON","parse","catch","serverActionsManifest","output","node","edge","renderOpts","previewProps","preview","nextExport","assetPrefix","replace","dev","basePath","canonicalBase","amp","ampSkipValidation","skipValidation","ampOptimizerConfig","optimizer","locales","locale","defaultLocale","domainLocales","domains","disableOptimizedLoading","supportsDynamicHTML","crossOrigin","optimizeCss","nextConfigOutput","nextScriptWorkers","optimizeFonts","largePageDataBytes","serverActions","serverComponents","nextFontManifest","strictNextHead","deploymentId","ppr","serverRuntimeConfig","publicRuntimeConfig","runtimeConfig","globalThis","__NEXT_DATA__","exportMap","exportPaths","map","filteredPaths","route","fallbackEnabledPages","prerenderInfo","fallback","size","hasMiddleware","middlewareManifest","middleware","progress","statusMessage","pagesDataDir","ampValidations","publicDir","workers","results","all","pathMap","exportPage","pageExportSpan","setAttribute","ampValidatorPath","validator","parentSpanId","getId","httpAgentOptions","debugOutput","isrMemoryCacheSize","fetchCache","fetchCacheKeyPrefix","incrementalCacheHandlerPath","enableExperimentalReact","errorPaths","renderError","hadValidationError","collector","byPath","byPage","ssgNotFoundPaths","validation","errors","get","revalidate","metadata","hasEmptyPrelude","hasPostponed","ssgNotFound","durations","durationsByPath","duration","endWorkerPromise","srcRoute","appPageName","isAppPath","Boolean","isAppRouteHandler","notFoundRoutes","includes","pagePath","distPagesDir","slice","split","orig","handlerSrc","handlerDest","copyFile","htmlDest","ampHtmlDest","jsonDest","htmlSrc","jsonSrc","sort","flush","exportApp","nextExportSpan"],"mappings":"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"}