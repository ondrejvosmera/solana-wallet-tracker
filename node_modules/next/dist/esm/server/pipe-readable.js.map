{"version":3,"sources":["../../src/server/pipe-readable.ts"],"names":["ResponseAbortedName","createAbortController","DetachedPromise","isAbortError","e","name","createWriterFromResponse","res","waitUntilForEnd","started","drained","onDrain","resolve","on","once","off","finished","WritableStream","write","chunk","flushHeaders","ok","flush","promise","err","end","Error","cause","abort","writableFinished","destroy","close","pipeToNodeResponse","readable","errored","destroyed","controller","writer","pipeTo","signal"],"mappings":"AAEA,SACEA,mBAAmB,EACnBC,qBAAqB,QAChB,6CAA4C;AACnD,SAASC,eAAe,QAAQ,0BAAyB;AAEzD,OAAO,SAASC,aAAaC,CAAM;IACjC,OAAOA,CAAAA,qBAAAA,EAAGC,IAAI,MAAK,gBAAgBD,CAAAA,qBAAAA,EAAGC,IAAI,MAAKL;AACjD;AAEA,SAASM,yBACPC,GAAmB,EACnBC,eAAkC;IAElC,IAAIC,UAAU;IAEd,wEAAwE;IACxE,wDAAwD;IACxD,IAAIC,UAAU,IAAIR;IAClB,SAASS;QACPD,QAAQE,OAAO;IACjB;IACAL,IAAIM,EAAE,CAAC,SAASF;IAEhB,0EAA0E;IAC1E,eAAe;IACfJ,IAAIO,IAAI,CAAC,SAAS;QAChBP,IAAIQ,GAAG,CAAC,SAASJ;QACjBD,QAAQE,OAAO;IACjB;IAEA,yEAAyE;IACzE,kDAAkD;IAClD,MAAMI,WAAW,IAAId;IACrBK,IAAIO,IAAI,CAAC,UAAU;QACjBE,SAASJ,OAAO;IAClB;IAEA,4DAA4D;IAC5D,OAAO,IAAIK,eAA2B;QACpCC,OAAO,OAAOC;YACZ,0EAA0E;YAC1E,wEAAwE;YACxE,0BAA0B;YAC1B,IAAI,CAACV,SAAS;gBACZA,UAAU;gBACVF,IAAIa,YAAY;YAClB;YAEA,IAAI;gBACF,MAAMC,KAAKd,IAAIW,KAAK,CAACC;gBAErB,sEAAsE;gBACtE,yDAAyD;gBACzD,IAAI,WAAWZ,OAAO,OAAOA,IAAIe,KAAK,KAAK,YAAY;oBACrDf,IAAIe,KAAK;gBACX;gBAEA,qEAAqE;gBACrE,8CAA8C;gBAC9C,IAAI,CAACD,IAAI;oBACP,MAAMX,QAAQa,OAAO;oBAErB,0EAA0E;oBAC1Eb,UAAU,IAAIR;gBAChB;YACF,EAAE,OAAOsB,KAAK;gBACZjB,IAAIkB,GAAG;gBACP,MAAM,IAAIC,MAAM,qCAAqC;oBAAEC,OAAOH;gBAAI;YACpE;QACF;QACAI,OAAO,CAACJ;YACN,IAAIjB,IAAIsB,gBAAgB,EAAE;YAE1BtB,IAAIuB,OAAO,CAACN;QACd;QACAO,OAAO;YACL,mEAAmE;YACnE,uBAAuB;YACvB,IAAIvB,iBAAiB;gBACnB,MAAMA;YACR;YAEA,IAAID,IAAIsB,gBAAgB,EAAE;YAE1BtB,IAAIkB,GAAG;YACP,OAAOT,SAASO,OAAO;QACzB;IACF;AACF;AAEA,OAAO,eAAeS,mBACpBC,QAAoC,EACpC1B,GAAmB,EACnBC,eAAkC;IAElC,IAAI;QACF,6DAA6D;QAC7D,MAAM,EAAE0B,OAAO,EAAEC,SAAS,EAAE,GAAG5B;QAC/B,IAAI2B,WAAWC,WAAW;QAE1B,wEAAwE;QACxE,sBAAsB;QACtB,MAAMC,aAAanC,sBAAsBM;QAEzC,MAAM8B,SAAS/B,yBAAyBC,KAAKC;QAE7C,MAAMyB,SAASK,MAAM,CAACD,QAAQ;YAAEE,QAAQH,WAAWG,MAAM;QAAC;IAC5D,EAAE,OAAOf,KAAU;QACjB,wDAAwD;QACxD,IAAIrB,aAAaqB,MAAM;QAEvB,MAAM,IAAIE,MAAM,2BAA2B;YAAEC,OAAOH;QAAI;IAC1D;AACF"}